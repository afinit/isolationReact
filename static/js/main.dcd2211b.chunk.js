(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,a){e.exports=a(320)},193:function(e,t,a){},195:function(e,t,a){},318:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),i=a(41),c=(a(193),a(43)),l=a(108),u=a.n(l),s=a(155),v=a(54),h=a(20),m=a(61);var p={name:"OpenMoves",evaluate:function(e,t,a){var r=e.getLegalMoves().length;return a?{score:r,pos:t}:{score:-r,pos:t}}},d={name:"FloodFill",evaluate:function(e,t,a){var r=function(e,t,a){for(var r=[t],n=[t],o=[-a-1,-a,1-a,-1,1,a-1,a,a+1],i=function(){var t=r[r.length-1];r.pop(),o.forEach(function(o){return function(e,t,a,r,n,o){var i=a<-1||a>1?a/Math.abs(a):0,c=t+a;!o.includes(c)&&function(e,t,a,r){return t>=0&&t<r*r&&e[t]===j&&Math.floor(t/r)===a}(e,c,Math.floor(t/r)+i,r)&&(n.unshift(c),o.unshift(c))}(e,t,o,a,r,n)})};r.length>0;)i();return n.shift(),n}(e.getBoard(),t,e.boardSize).length,n=(r%2===0?1:-1)*(e.boardSize-r);return a?{score:n,pos:t}:{score:-n,pos:t}}},y=(r={},Object(m.a)(r,"OpenMoves",{key:"openmoves",text:"OpenMoves",value:"OpenMoves",heuristic:p}),Object(m.a)(r,"FloodFill",{key:"floodfill",text:"FloodFill",value:"FloodFill",heuristic:d}),r),f=Object.values(y),b=1e3,g=3,E=15,S=5,M=y.OpenMoves.heuristic,O=!1,j=-2,k=-1,x=0,w=1,I=a(44),P=a.n(I);var q=function(e){var t=[P.a.Square];return t=e.value===k?[].concat(Object(h.a)(t),[P.a.SquarePastMove]):e.value===x?[].concat(Object(h.a)(t),[P.a.SquareP1Token]):e.value===w?[].concat(Object(h.a)(t),[P.a.SquareP2Token]):e.legalMove?[].concat(Object(h.a)(t),[P.a.SquareP1Hover]):[].concat(Object(h.a)(t),[P.a.SquareEmpty]),n.createElement("button",{className:t.join(" "),onClick:e.onClick})},N=function(e){var t=e.boardSize;return n.createElement("div",null,Object(h.a)(Array(t).keys()).map(function(a){return n.createElement("div",{key:"boardRow"+a,className:"board-row"},Object(h.a)(Array(t).keys()).map(function(r){var o=r+a*t;return function(t,a){return n.createElement(q,{key:t,value:e.squares[t],legalMove:a,onClick:function(){return e.onClick(t)}})}(o,e.legalMoves.includes(o))}))}))},_=a(53),A=(a(195),a(330)),H=function(){return o.a.createElement("div",{className:"rules"},o.a.createElement("h3",null,"Rules"),o.a.createElement("ul",null,o.a.createElement("li",null,"2 players trade turns moving the game piece (\xf8)"),o.a.createElement("li",null,"The game piece (\xf8) can be moved like a queen in chess. Horizontally, vertically, diagonally."),o.a.createElement("li",null,"Moves cannot be to or through previous moves, these will be marked as (#)"),o.a.createElement("li",null,"First move can go anywhere"),o.a.createElement("li",null,"Last player to be able to move wins the game")))},z=a(21);function C(e,t){var a=e.map(function(e){return e.score}),r=t?Math.max.apply(Math,Object(h.a)(a)):Math.min.apply(Math,Object(h.a)(a));return e[a.indexOf(r)]}function T(e,t,a,r,n,o){var i=e.getLegalMoves().map(function(i){var c=e.move(i);return o?function e(t,a,r,n,o,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.MIN_SAFE_INTEGER;var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_SAFE_INTEGER;var u=t.getLegalMoves();if(0===u.length)return{score:(b+n)*(i?-1:1),pos:a,depth:n};if(0===n||r<(new Date).getTime())return Object(z.a)({},o.evaluate(t,a,i),{depth:n});var s=i?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,v={score:s,pos:a,alpha:c,beta:l},h=u.reduce(function(a,c){if(i&&a.score>=a.beta)return a;if(!i&&a.score<=a.alpha)return a;var l=t.move(c),u=e(l,c,r,n-1,o,!i,a.alpha,a.beta),s=a.score,v=a.pos,h=a.alpha,m=a.beta;return i&&u.score>s?(s=u.score,v=c,h=Math.max(u.score,h)):!i&&u.score<s&&(s=u.score,v=c,m=Math.min(u.score,m)),Object(z.a)({},a,{score:s,pos:v,alpha:h,beta:m,depth:u.depth})},v);return Object(z.a)({},h,{pos:a})}(c,i,a,r-1,n,!t):function e(t,a,r,n,o,i){var c=t.getLegalMoves();if(0===c.length)return{score:r?-(b+o):b+o,pos:a,depth:o};if(0===o||n<(new Date).getTime())return Object(z.a)({},i.evaluate(t,a,r),{depth:o});var l=c.map(function(a){var c=t.move(a);return e(c,a,!r,n,o-1,i)});return Object(z.a)({},C(l,r),{pos:a})}(c,i,!t,a,r-1,n)}),c=C(i,t);return Object(z.a)({},c,{depth:void 0!==c.depth?r-c.depth:void 0})}var B=a(175),R=a(156),F=a(176),L=a(109),D=a(110);function G(e,t,a){return Object(v.range)(e,t,a).slice(1)}function W(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0};return Object(v.takeWhile)(e,function(e){return t[e]===j&&a(e)})}var X=function(e,t,a){if(void 0===t)return Object(v.range)(0,a*a).filter(function(t){return e[t]===j});var r=a,n=a*a,o=function(e){return e%r!==0},i=function(e){return e%r!==r-1};return[W(G(t,-1,-r),e),W(G(t,-1,-(r-1)),e,o),W(G(t,n,1),e,o),W(G(t,n,r+1),e,o),W(G(t,n,r),e),W(G(t,n,r-1),e,i),W(G(t,-1,-1),e,i),W(G(t,-1,-(r+1)),e,i)].flat()},J=function(e,t,a){var r=t;return e>a?r=a:e>t&&(r=e),r},V=function(e){function t(e,a,r,n,o,i,c){var l;return Object(L.a)(this,t),(l=Object(B.a)(this,Object(R.a)(t).call(this,e,a,r))).historyIdx=void 0,l.history=void 0,l.scoreHistory=void 0,l.legalMoves=void 0,l.historyIdx=n,l.history=o,l.legalMoves=i,l.scoreHistory=c,l}return Object(F.a)(t,e),Object(D.a)(t,[{key:"copy",value:function(){return new t(this.boardSize,this.players,this.reviewMode,this.historyIdx,this.history.map(function(e){return Object(z.a)({},e)}),this.legalMoves,this.scoreHistory)}},{key:"getPlayer",value:function(){return this.players[this.history[this.historyIdx].currPlayerIdx]}},{key:"getBoard",value:function(){return this.history[this.historyIdx].squares.slice()}},{key:"getScore",value:function(){return this.scoreHistory[this.historyIdx]}},{key:"getPosition",value:function(){return this.history[this.history.length-1].currPosition}},{key:"getLegalMoves",value:function(){return this.legalMoves}},{key:"endReview",value:function(){var e=this.copy();return e.historyIdx=this.history.length-1,e.reviewMode=!1,e}},{key:"lastMove",value:function(){var e=this.copy();return e.historyIdx=Math.max(0,e.historyIdx-1),e}},{key:"nextMove",value:function(){var e=this.copy();return e.historyIdx=Math.min(e.historyIdx+1,e.history.length-1),e}},{key:"restartHere",value:function(){var e=this.copy();return e.history=e.history.slice(0,e.historyIdx+1),e.reviewMode=!1,e.legalMoves=X(e.getBoard(),e.history[e.historyIdx].currPosition,e.boardSize),e}},{key:"moveScore",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.history[this.history.length-1],n=r.squares.slice();void 0!==r.currPosition&&(n[r.currPosition]=k),n[e]=x;var o={squares:n,currPlayerIdx:(r.currPlayerIdx+1)%2,currPosition:e};return new t(this.boardSize,this.players,this.reviewMode,this.historyIdx+1,[].concat(Object(h.a)(this.history),[o]),X(n,e,this.boardSize),[].concat(Object(h.a)(this.scoreHistory),[a]))}}]),t}(function(){function e(t,a,r){Object(L.a)(this,e),this.boardSize=void 0,this.players=void 0,this.reviewMode=void 0,this.boardSize=t,this.players=a,this.reviewMode=r}return Object(D.a)(e,[{key:"move",value:function(e){return this.moveScore(e,0)}},{key:"startReview",value:function(){return this.reviewMode=!0,this}}]),e}());var U=function(e){var t=e.boardSize,a=Object(n.useState)(function(e,t,a,r){return new V(e,t,!1,0,[{squares:a,currPlayerIdx:r,currPosition:void 0}],X(a,void 0,e),[])}(t,[e.p1,e.p2],Array(t*t).fill(j),Math.random()<.5?0:1)),r=Object(c.a)(a,1)[0],i=Object(n.useState)(r),l=Object(c.a)(i,2),h=l[0],m=l[1],p=h.getPlayer();Object(n.useEffect)(function(){"AI"!==p.actor||h.reviewMode||f(p.minimaxDepth||S)});var d,y,f=function(){var e=Object(s.a)(u.a.mark(function e(t){var a,r,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h.getLegalMoves().length>0&&(a=(new Date).getTime(),r=T(h,!0,(new Date).getTime()+1e3,t,p.heuristic||M,void 0===p.alphaBeta?O:p.alphaBeta),n=p.heuristic?p.heuristic.name:"NONE",console.log("minimax: ",n,r),console.log("runtime: ",(new Date).getTime()-a),m(function(e){return e.moveScore(r.pos,r.score)}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=o.a.createElement("div",{className:"game-buttons"},o.a.createElement(A.a,{onClick:function(){m(function(e){return e.copy().startReview()})}},"Review Moves"));h.reviewMode&&(b=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"game-buttons"},o.a.createElement(A.a,{onClick:function(){m(function(e){return e.endReview()})}},"End Review"),o.a.createElement(A.a,{onClick:function(){m(function(e){return e.restartHere()})}},"Restart Here"),o.a.createElement("h3",null,"Review Mode")),o.a.createElement("div",{className:"game-buttons"},o.a.createElement(A.a,{onClick:function(){m(function(e){return e.lastMove()})}},"Last Move"),o.a.createElement(A.a,{onClick:function(){m(function(e){return e.nextMove()})}},"Next Move"),void 0!==h.getScore()&&o.a.createElement("p",null,"Assessed Score: ",h.getScore())))),d=0!==h.getLegalMoves().length||h.reviewMode?"Next Move: "+p.name:"Winner: "+(y=p,y===e.p1?e.p2:e.p1).name;var g=34*t+20;return o.a.createElement("div",{className:"game",style:{width:g>320?g:"320px"}},o.a.createElement("h2",null,"The Game of Isolation"),o.a.createElement(H,null),o.a.createElement("div",{className:"game-info"},o.a.createElement("div",null,"Starting Player: "+r.getPlayer().name,o.a.createElement("br",null),d)),o.a.createElement("div",{className:"game-board"},o.a.createElement(N,{squares:h.getBoard(),boardSize:t,legalMoves:h.getLegalMoves(),onClick:function(e){return function(e){if("Human"===p.actor&&!h.reviewMode){if(!Object(v.includes)(h.getLegalMoves(),e))return;m(function(t){return t.move(e)})}}(e)}})),o.a.createElement("div",{className:"game-buttons"},o.a.createElement(A.a,{as:_.b,to:{pathname:"/"}},"New Game")),b)},K=a(36),Q=a(329),Y=a(328),Z=[{key:"ai",text:"AI",value:"AI"},{key:"human",text:"Human",value:"Human"}],$=function(e){var t,a,r,n="Player".concat(e.playerNum),i="".concat(n," Name");if("AI"===e.player.actor){var c="".concat(n," Minimax Depth (AI Smartness Level)"),l=void 0!==e.player.minimaxDepth?e.player.minimaxDepth:S;t=o.a.createElement(Q.a.Input,{label:c,value:l,type:"number",onChange:function(t){return e.setPlayer(Object(z.a)({},e.player,{minimaxDepth:(a=+t.target.value,J(a,1,15))}));var a}});var u="".concat(n," Heuristic (Strategy)"),s=e.player.heuristic?e.player.heuristic:M;a=o.a.createElement(Q.a.Select,{label:u,options:f,defaultValue:s.name,type:"string",onChange:function(t,a){e.setPlayer(Object(z.a)({},e.player,{heuristic:y[a.value].heuristic}))}});var v="".concat(n," AlphaBeta"),h=e.player.alphaBeta?e.player.alphaBeta:O;r=o.a.createElement(Y.a,{label:v,toggle:!0,checked:h,onChange:function(){return e.setPlayer(Object(z.a)({},e.player,{alphaBeta:!h}))}})}return o.a.createElement(Q.a.Group,null,o.a.createElement(Q.a.Select,{label:n,options:Z,defaultValue:e.player.actor,onChange:function(t,a){e.setPlayer({name:"".concat(a.value).concat(e.playerNum),actor:a.value,minimaxDepth:"AI"===a.value?S:void 0,heuristic:"AI"===a.value?M:void 0,alphaBeta:"AI"===a.value?O:void 0})}}),o.a.createElement(Q.a.Input,{label:i,value:e.player.name,type:"string",onChange:function(t){return e.setPlayer(Object(z.a)({},e.player,{name:t.target.value}))}}),t,a,r)},ee=(a(318),a(331));function te(e){return o.a.createElement("div",{className:"new-game-form"},o.a.createElement(ee.a,null,o.a.createElement(Q.a,null,o.a.createElement($,{playerNum:1,player:e.p1,setPlayer:e.setP1}),o.a.createElement($,{playerNum:2,player:e.p2,setPlayer:e.setP2}),o.a.createElement(Q.a.Group,null,o.a.createElement(Q.a.Input,{label:"Board Size",type:"number",value:e.boardSize,min:g,max:E,onChange:function(t){var a;e.setBoardSize((a=+t.target.value,J(a,g,E)))}})),o.a.createElement(A.a,{as:_.b,to:{pathname:"/game"}},"Start Game"))))}a(319);i.render(n.createElement(function(){var e=Object(n.useState)({name:"Human1",actor:"Human"}),t=Object(c.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({name:"AI2",actor:"AI",minimaxDepth:S,heuristic:M,alphaBeta:O}),l=Object(c.a)(i,2),u=l[0],s=l[1],v=Object(n.useState)(9),h=Object(c.a)(v,2),m=h[0],p=h[1];return o.a.createElement(_.a,null,o.a.createElement(K.c,null,o.a.createElement(K.a,{path:"/game",render:function(){return o.a.createElement(U,{boardSize:m,p1:a,p2:u})}}),o.a.createElement(K.a,{path:"/",render:function(){return o.a.createElement(te,{p1:a,p2:u,boardSize:m,setP1:r,setP2:s,setBoardSize:p})}})))},null),document.getElementById("root"))},44:function(e,t,a){e.exports={Square:"Square_Square__1Xs-e",SquareEmpty:"Square_SquareEmpty__3ICql",SquareP1Hover:"Square_SquareP1Hover__Wg3Ra",SquareP2Hover:"Square_SquareP2Hover__1IU3E",SquarePastMove:"Square_SquarePastMove__3XWI9",SquareP1Token:"Square_SquareP1Token__2LNC3",SquareP2Token:"Square_SquareP2Token__3Wmfz"}}},[[188,1,2]]]);
//# sourceMappingURL=main.dcd2211b.chunk.js.map